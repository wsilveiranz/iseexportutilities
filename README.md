# iseexportutilities
 This repo cotains a list of script and utilities to to support the export of ISE workflows.
 
 ## Validating all logic apps in a Resource group
 
 ### Pre-requisites
 
 - Postman
 - Powershell 7.x or later
 - user with access to an Azure Subscription with at leat reader access to the subscription
 - A service principal with at least reader access to the subscription
 
 ### Step 1
 
- Run (Get_LogicApps_Per_ISE.ps1)[https://github.com/wsilveiranz/iseexportutilities/blob/main/Get_LogicApps_Per_ISE.ps1], replacing the values for $subscriptionname, $resourcegroup and $isename with the values from your environment.
- Copy the resulting array to use in step 2

### Step 2

- Install (Logic Apps Export Validate.postman_collection.json)[https://github.com/wsilveiranz/iseexportutilities/blob/main/Logic%20Apps%20Export%20Validate.postman_collection.json]
- Update the following json variables:
>- azureManagedIdClientId - the service principal client ID
>- azureManagedIdClientSecret - the service principal client secret
>- Tenantid - the tenant id hosting the subcription
>- subscriptionID - the subscription's ID
>- ISERegionName - the region name where ISE is deployed (e.g. australiaeast)
>- rgName - the name of the resource group
- Open the *Validate Logic App List* request
- Replace the array under the *workflow* element with the array generated by step 1's powershell script. The value to be replace is as follows:
>[
>    {
>        "id": "/subscriptions/{{subscriptionID}}/resourceGroups/{{rgName}}/providers/Microsoft.Logic/workflows/LogicApp1"
>    },
>    {
>        "id": "/subscriptions/{{subscriptionID}}/resourceGroups/{{rgName}}/providers/Microsoft.Logic/workflows/LogicApp2"
>    }
>]
- Execute the request.

The result will contain each one of the workflows and overall status, plus any warning or validation error.

 
